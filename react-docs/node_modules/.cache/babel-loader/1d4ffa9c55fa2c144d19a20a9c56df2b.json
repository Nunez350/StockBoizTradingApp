{"ast":null,"code":"import _defineProperty from \"/Users/roynunez/newStockBoizCopy/react-docs/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/roynunez/newStockBoizCopy/react-docs/src/Components/Stocks.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport '../App.css'; //import Plot from 'react-plotly.js';\n\nimport axios from 'axios';\nvar stockCode = \"MSFT\";\nvar currentDate = new Date();\nvar yesterday = new Date();\ncurrentDate = currentDate.toISOString().split('T')[0];\nyesterday.setDate(yesterday.getDate() - 1);\nyesterday = yesterday.toISOString().split('T')[0];\nconsole.log(currentDate);\nconsole.log(yesterday);\n\nclass StockSearch extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.loadPage = () => {\n      stockCode = document.getElementById('stockEntry').value;\n      this.setState({\n        stockCode: document.getElementById('stockEntry').value\n      });\n      axios.get('http://localhost:8080/stock' + stockCode).then(response => {\n        console.log(\"Response: \" + response.data);\n        stockCode = response.data;\n        this.setState({\n          stockCode: response.data\n        });\n        return response.data;\n      }).then(response => {\n        console.log(\"after the then:\" + response);\n\n        if (response === \"Nothing\") {\n          alert(\"Invalid Entry\");\n        } else {\n          this.fetchStock(response);\n        }\n      }).catch(error => {\n        console.log(\"Error: \" + error);\n      });\n    };\n\n    this.getSMA = theCode => {\n      this.setState({\n        period: document.getElementById('selectDrop').value\n      });\n      fetch(\"https://www.alphavantage.co/query?function=SMA&symbol=\".concat(theCode, \"&interval=daily&time_period=\").concat(this.state.period, \"&series_type=open&apikey=QWAZUD4WW32N18NDs\")).then(res => res.json()).then(data => {\n        var set = data['Technical Analysis: SMA'];\n        var firstKey = Object.keys(set)[0];\n        console.log(firstKey);\n        this.setState({\n          sma: data['Technical Analysis: SMA'][firstKey]['SMA']\n        });\n        console.log(this.state.sma);\n      }).catch(console.log);\n    };\n\n    this.fetchStock = code => {\n      const pointerToThis = this;\n      const API_KEY = 'QWAZUD4WW32N18ND';\n      let DAILY_API_CALL = \"https://www.alphavantage.co/query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=\".concat(code, \"&outputsize=compact&apikey=\").concat(API_KEY);\n      console.log(DAILY_API_CALL);\n      let stockChartXValueFunction = [];\n      let stockChartYValueFunction = [];\n      fetch(DAILY_API_CALL).then(response => {\n        return response.json();\n      }).then(data => {\n        console.log(data);\n\n        if ('Error Message' in data) {//console.log(\"Error Block\");\n        } else {} //console.log(\"Not erroring out\");\n          // for(var key in data['Time Series (Daily)']){\n          //   stockChartXValueFunction.push(key);\n          //   stockChartYValueFunction.push(data['Time Series (Daily)'][key][`1. open`]);\n          // }\n\n\n        try {\n          this.setState({\n            open: data['Time Series (Daily)'][currentDate][\"1. open\"]\n          });\n          this.setState({\n            close: data['Time Series (Daily)'][currentDate][\"4. close\"]\n          }); //this.setState({stockCode: data['Meta Data'][\"2. Symbol\"]});\n          //this.setState({stockCode: stockEntry.value});\n          //open = data['Time Series (Daily)'][currentDate][`1. open`];\n          //close = data['Time Series (Daily)'][currentDate][`4. close`];\n\n          this.getSMA(code);\n        } catch (Exception) {\n          // this.getStockSymbol();\n          console.log(\"In last catch block\");\n        } finally {\n          pointerToThis.setState({\n            stockChartXValue: stockChartXValueFunction,\n            stockChartYValue: stockChartYValueFunction\n          });\n        }\n      }); //.then(this.render());\n    };\n\n    this.state = {\n      stockCode: \"\",\n      open: \"\",\n      close: \"\",\n      sma: \"\",\n      period: \"\",\n      json: [],\n      stockChartXValue: [],\n      stockChartYValue: [],\n      data: []\n    };\n  }\n\n  addToList() {\n    alert(\"Added\");\n  }\n\n  componentDidMount() {\n    var myDropDownMenu = document.getElementById('selectDrop');\n    myDropDownMenu.addEventListener('change', () => {\n      this.getSMA(this.state.stockCode);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"myStockPageDiv\",\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      id: \"stockPageHeading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Stock Page!\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"stockEntry\",\n      className: \"m-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.loadPage,\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Search\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"\",\n      className: \"row container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-2 container myColDivs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"columnTitles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Stock Ticker\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      href: \"\",\n      className: \"blueText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, this.state.stockCode)), React.createElement(\"div\", {\n      className: \"col-2 container myColDivs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"columnTitles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Probability of Success\")), React.createElement(\"div\", {\n      className: \"col-2 container myColDivs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"columnTitles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Buy Bid\")), React.createElement(\"div\", {\n      className: \"col-1 container myColDivs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"columnTitles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Open\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"blueText container myColDivs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, this.state.open)), React.createElement(\"div\", {\n      className: \"col-1 container myColDivs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"columnTitles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Close\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"blueText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, this.state.close)), React.createElement(\"div\", {\n      className: \"col-3 container myColDivs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"columnTitles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"SMA\"), React.createElement(\"select\", {\n      id: \"selectDrop\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"10 Days\"), React.createElement(\"option\", {\n      value: \"50\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"50 Days\"), React.createElement(\"option\", {\n      value: \"100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"100 Days\"), React.createElement(\"option\", {\n      value: \"150\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"150 Days\"), React.createElement(\"option\", {\n      value: \"200\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"200 Days\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"blueText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, this.state.sma)), React.createElement(\"div\", {\n      className: \"col-1 container myColDivs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"View Graph\"))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"btn btn-success fixed-bottom m-2 p-1\",\n      onClick: this.addToList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"Add To My List!\"));\n  }\n\n} // export default StockSearch;\n\n\nconst mapStateToProps = state => {\n  return _objectSpread({}, state, {\n    data: state.data = \"aaa\"\n  });\n}; // const mapDispatchToProps = dispatch => {\n//   return {\n//       // onDeleteTodo: (id) => dispatch({ type: ActionTypes.DELETE_TODO, id: id })\n//   }\n// };\n\n\nexport default connect(mapStateToProps)(StockSearch); // -----\n// const mapStateToProps = state => {\n//   return {\n//       ctr: state.ctr.counter,\n//       storedResults: state.res.results\n//   };\n// };\n// const mapDispatchToProps = dispatch => {\n//   return {\n//       onStoreResult: (result) => dispatch(actionCreators.storeResult(result)),\n//       onDeleteResult: (id) => dispatch(actionCreators.deleteResult(id),console.log(id))\n//   };\n// };\n// export default connect(mapStateToProps, mapDispatchToProps)(PostEditor);","map":{"version":3,"sources":["/Users/roynunez/newStockBoizCopy/react-docs/src/Components/Stocks.js"],"names":["React","axios","stockCode","currentDate","Date","yesterday","toISOString","split","setDate","getDate","console","log","StockSearch","Component","constructor","props","loadPage","document","getElementById","value","setState","get","then","response","data","alert","fetchStock","catch","error","getSMA","theCode","period","fetch","state","res","json","set","firstKey","Object","keys","sma","code","pointerToThis","API_KEY","DAILY_API_CALL","stockChartXValueFunction","stockChartYValueFunction","open","close","Exception","stockChartXValue","stockChartYValue","addToList","componentDidMount","myDropDownMenu","addEventListener","render","mapStateToProps","connect"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../App.css';\n//import Plot from 'react-plotly.js';\nimport axios from 'axios';\n\n\nvar stockCode = \"MSFT\";\n\nvar currentDate = new Date();\nvar yesterday = new Date();\ncurrentDate = currentDate.toISOString().split('T')[0];\nyesterday.setDate(yesterday.getDate()-1);\nyesterday = yesterday.toISOString().split('T')[0];\nconsole.log(currentDate);\nconsole.log(yesterday);\n\nclass StockSearch extends React.Component{\n\n  constructor(props){\n    super(props);\n    this.state = {\n      stockCode: \"\",\n      open: \"\",\n      close: \"\",\n      sma: \"\",\n      period: \"\",\n      json: [],\n      stockChartXValue: [],\n      stockChartYValue: [],\n      data:[]\n    };\n  }\n\n\n  loadPage = () => {\n    stockCode = (document.getElementById('stockEntry').value);\n    this.setState({stockCode: (document.getElementById('stockEntry').value)});\n   \n    axios.get('http://localhost:8080/stock' + stockCode)\n      .then( (response) => {\n        console.log(\"Response: \" + response.data);\n        stockCode = response.data;\n        this.setState({stockCode: response.data});\n        return response.data\n      }).then((response) => {\n        console.log(\"after the then:\" + response); \n        if(response === \"Nothing\"){\n          alert(\"Invalid Entry\");\n        }else{\n          this.fetchStock(response);\n        }\n      })\n      .catch(error => {\n        console.log(\"Error: \" + error);\n      });\n  }\n\n  getSMA = (theCode) => {\n    this.setState({period: (document.getElementById('selectDrop').value)})\n    fetch(`https://www.alphavantage.co/query?function=SMA&symbol=${theCode}&interval=daily&time_period=${this.state.period}&series_type=open&apikey=QWAZUD4WW32N18NDs`)\n    .then(res => res.json())\n    .then((data) => {\n     var set = data['Technical Analysis: SMA'];\n     var firstKey = Object.keys(set)[0];\n     console.log(firstKey);\n     this.setState({sma: data['Technical Analysis: SMA'][firstKey]['SMA']});\n     console.log(this.state.sma);\n    })\n    .catch(console.log)\n  }\n\n  fetchStock = (code) => {\n    const pointerToThis = this;\n    const API_KEY = 'QWAZUD4WW32N18ND';\n    let DAILY_API_CALL = `https://www.alphavantage.co/query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=${code}&outputsize=compact&apikey=${API_KEY}`;\n    console.log(DAILY_API_CALL)\n    let stockChartXValueFunction = [];\n    let stockChartYValueFunction = [];\n\n    fetch(DAILY_API_CALL)\n      .then(\n        (response) => {\n          return response.json();\n        }\n      )\n      .then(\n        (data) => {\n\n          console.log(data);\n          \n          if('Error Message' in data){\n            //console.log(\"Error Block\");\n          }else{\n            //console.log(\"Not erroring out\");\n          }\n\n          // for(var key in data['Time Series (Daily)']){\n          //   stockChartXValueFunction.push(key);\n          //   stockChartYValueFunction.push(data['Time Series (Daily)'][key][`1. open`]);\n          // }\n\n          try{\n            this.setState({open: data['Time Series (Daily)'][currentDate][`1. open`]});\n            this.setState({close: data['Time Series (Daily)'][currentDate][`4. close`]});\n            //this.setState({stockCode: data['Meta Data'][\"2. Symbol\"]});\n\n            //this.setState({stockCode: stockEntry.value});\n            //open = data['Time Series (Daily)'][currentDate][`1. open`];\n            //close = data['Time Series (Daily)'][currentDate][`4. close`];\n            this.getSMA(code);\n          }catch(Exception){\n           // this.getStockSymbol();\n            console.log(\"In last catch block\");\n          }finally{\n          pointerToThis.setState({\n            stockChartXValue: stockChartXValueFunction,\n            stockChartYValue: stockChartYValueFunction\n          });\n          }\n        }\n      )//.then(this.render());\n      \n  }\n\n  addToList(){\n    alert(\"Added\");\n  }\n\n  componentDidMount(){\n    var myDropDownMenu = document.getElementById('selectDrop');\n    myDropDownMenu.addEventListener('change', () => {\n      this.getSMA(this.state.stockCode);\n    });\n  }\n\n\n  render(){\n    return(\n      <div id=\"myStockPageDiv\" className=\"container-fluid\">\n        <h1 id=\"stockPageHeading\">Stock Page!</h1>\n        <input type=\"text\" id=\"stockEntry\" className=\"m-1\" />\n        <button onClick={this.loadPage} className=\"btn btn-primary\">Search</button>\n        <br />\n        <br />\n        {/* <p id=\"xValues\">x-values: {this.state.stockChartXValue}</p>\n        <p id=\"yValues\">y-values: {this.state.stockChartYValue}</p> */}\n        <div id=\"\" className=\"row container-fluid\">\n          <div className=\"col-2 container myColDivs\">\n            <p className=\"columnTitles\">Stock Ticker</p>\n            <br />\n            <a href=\"\" className=\"blueText\">{this.state.stockCode}</a>\n          </div>\n          <div className=\"col-2 container myColDivs\">\n           <p className=\"columnTitles\">Probability of Success</p>\n          </div>\n          <div className=\"col-2 container myColDivs\">\n            <p className=\"columnTitles\">Buy Bid</p>\n          </div>\n          <div className=\"col-1 container myColDivs\">\n          <p className=\"columnTitles\">Open</p>\n            <br />\n            <p className=\"blueText container myColDivs\">{this.state.open}</p>\n          </div>\n          <div className=\"col-1 container myColDivs\">\n            <p className=\"columnTitles\">Close</p>\n            <br />\n            <p className=\"blueText\">{this.state.close}</p>\n          </div>\n          <div className=\"col-3 container myColDivs\">\n            <p className=\"columnTitles\">SMA</p>\n            <select id=\"selectDrop\">\n              <option value=\"10\">10 Days</option>\n              <option value=\"50\">50 Days</option>\n              <option value=\"100\">100 Days</option>\n              <option value=\"150\">150 Days</option>\n              <option value=\"200\">200 Days</option>\n            </select>\n            <br />\n            <p className=\"blueText\">{this.state.sma}</p>\n          </div>\n          <div className=\"col-1 container myColDivs\">\n            <button className=\"btn btn-danger\">View Graph</button>\n          </div>\n          {/* <div className=\"col-8 container\">\n            <Plot\n            data={[\n              {\n                x:this.state.stockChartXValue,\n                y:this.state.stockChartYValue,\n                type: 'scatter',\n                mode: 'lines+markers',\n                marker: {color: 'green'},\n              },\n              // {type: 'bar', x: [1, 2, 3], y:[2, 5, 3]},\n            ]}\n            style={{width: '100%', height: '100%', title: `${stockCode} stock graph`, autosize: true, margin: '5'}}\n           \n            // Plotly.newPlot('myDiv', data, layout, {responsive: true});\n            />\n           </div> */}\n        </div>\n        <br />\n        <button className=\"btn btn-success fixed-bottom m-2 p-1\" onClick={this.addToList}>Add To My List!</button>\n      </div>\n    )\n  }\n}\n\n// export default StockSearch;\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ...state,\n      data: state.data =\"aaa\",\n  }\n}\n\n\n\n\n// const mapDispatchToProps = dispatch => {\n//   return {\n//       // onDeleteTodo: (id) => dispatch({ type: ActionTypes.DELETE_TODO, id: id })\n//   }\n// };\n\nexport default connect(mapStateToProps)(StockSearch);\n\n\n// -----\n\n\n// const mapStateToProps = state => {\n//   return {\n//       ctr: state.ctr.counter,\n//       storedResults: state.res.results\n//   };\n// };\n\n// const mapDispatchToProps = dispatch => {\n//   return {\n \n//       onStoreResult: (result) => dispatch(actionCreators.storeResult(result)),\n//       onDeleteResult: (id) => dispatch(actionCreators.deleteResult(id),console.log(id))\n//   };\n// };\n\n// export default connect(mapStateToProps, mapDispatchToProps)(PostEditor);\n\n"]},"metadata":{},"sourceType":"module"}